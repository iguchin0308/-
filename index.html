<!doctype html>
<html lang="ja">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <title>つぶれちゃってもいいですか？｜飲みゲー</title>

  <meta name="description" content="カードを引いて盛り上がる飲み会ゲーム。無理せず楽しく飲もう！" />
  <meta name="theme-color" content="#0b0f1a" />

  <!-- ✅ CSS（キャッシュ破り） -->
  <link rel="stylesheet" href="./style.css?v=102" />
</head>

<body>
  <div class="app">
    <header class="topbar" role="banner">
      <div class="title">
        <h1>つぶれちゃってもいいですか？</h1>
        <p class="sub">カードを引いて盛り上げよう（全<span id="total">--</span>枚）</p>
      </div>

    </header>

    <div class="screens" role="main" aria-label="飲みゲー本体">

      <section id="screen-deck" class="screen screen-active" role="region" aria-label="カードを引く画面">
        <div class="card card-deck">
          <div class="deck-info" aria-label="デッキ情報">
            <div class="pill">残り <span id="remain">--</span> / <span id="total2">--</span></div>
            <div class="pill subtle">引いた枚数 <span id="drawn">0</span></div>
          </div>

          <button id="btn-draw" class="draw-btn" type="button">
            <span class="draw-btn__top">カードを引く</span>
            <span class="draw-btn__bottom">タップして1枚ドロー</span>
          </button>

          <p class="hint">※ お酒は無理せず、楽しく飲もう！</p>
        </div>

        <div class="card card-mini">
          <h2>使い方</h2>
          <ol>
            <li>2人以上でスタート</li>
            <li>順番に「カードを引く」</li>
            <li>カードの指示に従う</li>
            <li><span id="total5">--</span>枚引き切ったら終了</li>
          </ol>
        </div>
      </section>

      <section id="screen-reveal" class="screen" role="region" aria-label="カード表示画面">
        <div class="card card-reveal">
          <div class="badge" aria-label="進行状況">
            <span id="card-index">1</span> / <span id="total3">--</span>
          </div>

          <!-- ✅ classも必須（CSS効かせる） -->
          <div class="card-icon" id="card-icon" aria-hidden="true"></div>

          <div class="reveal-title">
            <h2 id="card-title">カード名</h2>
            <p id="card-subtitle" class="subtle">カテゴリ</p>
          </div>

          <div class="rule-box" aria-label="カードの指示">
            <p id="card-rule">ここにルールが表示されます。</p>
          </div>

          <div class="actions actions-one">
            <button id="btn-next" class="btn btn-primary btn-full" type="button">次のカードへ</button>
          </div>
        </div>

        <div class="card card-mini">
          <h2>残り</h2>
          <p class="big"><span id="remain2">--</span> 枚</p>
        </div>
      </section>

      <section id="screen-finished" class="screen" role="region" aria-label="終了画面">
        <div class="card card-finished">
          <h2>終了！</h2>
          <p class="big"><span id="total4">--</span>枚、引き切りました 🍻</p>
          <p class="subtle">二日酔いに気を付けてね。</p>

          <div class="actions">
            <button id="btn-restart" class="btn btn-primary" type="button">もう1回やる</button>
            <button id="btn-finish-back" class="btn btn-ghost" type="button">デッキ画面へ</button>
          </div>
        </div>
      </section>

    </div>

    <footer class="footer" role="contentinfo">
      <small class="subtle">© 飲みゲー（GitHub Pages向け）</small>
    </footer>
  </div>

  <!-- ✅ JS：1回だけ読み込む（deferでDOM準備後に実行 + キャッシュ破り） -->
  <script src="./script.js?v=102" defer></script>
</body>
</html>
